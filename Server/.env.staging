# Staging Environment Configuration
# This is a template - copy to .env.staging and fill in actual values

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
PORT=5000
NODE_ENV=staging
API_VERSION=v1
API_BASE_URL=https://staging-api.example.com/api/v1
DEBUG=general-store:*,express:*

# ============================================================================
# DATABASE
# ============================================================================
# Use MongoDB Atlas for staging
MONGODB_URI=mongodb+srv://staging_user:staging_password@staging-cluster.mongodb.net/general_store_staging

# ============================================================================
# AUTHENTICATION (JWT)
# ============================================================================
# Generate new random strings for staging
JWT_SECRET=your_staging_jwt_secret_32_chars_minimum_length
JWT_EXPIRE=7d
JWT_REFRESH_SECRET=your_staging_jwt_refresh_secret_32_chars_minimum
JWT_REFRESH_EXPIRE=30d

# ============================================================================
# CORS & FRONTEND
# ============================================================================
CORS_ORIGIN=https://staging.example.com,https://app-staging.example.com
CORS_CREDENTIALS=true
CORS_MAX_AGE=3600
FRONTEND_URL=https://staging.example.com

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=info

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Rate Limiting (slightly stricter than dev)
RATE_LIMIT_WINDOW_MS=900000       # 15 minutes
RATE_LIMIT_MAX_REQUESTS=200       # Moderate limit
RATE_LIMIT_AUTH_MAX=10            # Stricter auth limit
RATE_LIMIT_UPLOAD_MAX=50
RATE_LIMIT_SEARCH_MAX=50

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=https://staging-api.example.com/csp-report

# HTTPS/Security Headers
ENFORCE_HTTPS=true                # Enforce HTTPS
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=false                # Consider enabling for production

# File Upload Security
MAX_FILE_SIZE=10485760            # 10MB
MAX_FILES_PER_UPLOAD=5
ALLOWED_FILE_TYPES=jpg,jpeg,png,gif,webp,pdf,doc,docx
UPLOAD_SCAN_MALWARE=true          # Enable malware scanning

# ============================================================================
# FILE STORAGE
# ============================================================================
# Use cloud storage in staging
STORAGE_TYPE=s3                   # or cloudinary

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=staging_access_key
AWS_SECRET_ACCESS_KEY=staging_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=staging-general-store-assets

# OR Cloudinary Configuration
# CLOUDINARY_CLOUD_NAME=staging_cloud_name
# CLOUDINARY_API_KEY=staging_api_key
# CLOUDINARY_API_SECRET=staging_api_secret

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================
EMAIL_SERVICE=gmail
EMAIL_USER=staging@generalstore.com
EMAIL_PASSWORD=staging_app_password
EMAIL_FROM=noreply@staging.generalstore.com

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# For staging, enable detailed monitoring
SENTRY_DSN=https://your_key@sentry.io/project_id
NEW_RELIC_ENABLED=true
NEW_RELIC_LICENSE_KEY=your_new_relic_key

# ============================================================================
# THIRD-PARTY INTEGRATIONS
# ============================================================================
# Add staging-specific API keys here
